; ModuleID = 'grace program'
source_filename = "grace program"

@" " = private constant [2 x i8] c" \00", align 1
@"\0A" = private constant [2 x i8] c"\0A\00", align 1
@A = private global [3 x [3 x i32]] zeroinitializer
@B = private global [3 x [3 x i32]] zeroinitializer
@C = private global [3 x [3 x i32]] zeroinitializer
@N = private global i32 0
@i = private global i32 0
@j = private global i32 0
@element = private global i32 0

define i32 @main() {
entry:
  store i32 3, i32* @N, align 4
  store i32 0, i32* @i, align 4
  br label %cond

cond:                                             ; preds = %after4, %entry
  %lval_tmp = load i32, i32* @i, align 4
  %lval_tmp1 = load i32, i32* @N, align 4
  %lesstmp = icmp slt i32 %lval_tmp, %lval_tmp1
  br i1 %lesstmp, label %body, label %after

body:                                             ; preds = %cond
  store i32 0, i32* @j, align 4
  br label %cond2

after:                                            ; preds = %cond
  store i32 0, i32* @i, align 4
  br label %cond15

cond2:                                            ; preds = %body3, %body
  %lval_tmp5 = load i32, i32* @j, align 4
  %lval_tmp6 = load i32, i32* @N, align 4
  %lesstmp7 = icmp slt i32 %lval_tmp5, %lval_tmp6
  br i1 %lesstmp7, label %body3, label %after4

body3:                                            ; preds = %cond2
  %0 = call i32 @readInteger()
  store i32 %0, i32* @element, align 4
  %lval_tmp8 = load i32, i32* @i, align 4
  %pointer = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* @A, i32 0, i32 %lval_tmp8
  %lval_tmp9 = load i32, i32* @j, align 4
  %pointer10 = getelementptr [3 x i32], [3 x i32]* %pointer, i32 0, i32 %lval_tmp9
  %lval_tmp11 = load i32, i32* @element, align 4
  store i32 %lval_tmp11, i32* %pointer10, align 4
  %lval_tmp12 = load i32, i32* @j, align 4
  %addtmp = add i32 %lval_tmp12, 1
  store i32 %addtmp, i32* @j, align 4
  br label %cond2

after4:                                           ; preds = %cond2
  %lval_tmp13 = load i32, i32* @i, align 4
  %addtmp14 = add i32 %lval_tmp13, 1
  store i32 %addtmp14, i32* @i, align 4
  br label %cond

cond15:                                           ; preds = %after23, %after
  %lval_tmp18 = load i32, i32* @i, align 4
  %lval_tmp19 = load i32, i32* @N, align 4
  %lesstmp20 = icmp slt i32 %lval_tmp18, %lval_tmp19
  br i1 %lesstmp20, label %body16, label %after17

body16:                                           ; preds = %cond15
  store i32 0, i32* @j, align 4
  br label %cond21

after17:                                          ; preds = %cond15
  %lval_tmp36 = load i32, i32* @N, align 4
  call void @"matmult_$2"([3 x [3 x i32]]* @A, [3 x [3 x i32]]* @B, [3 x [3 x i32]]* @C, i32 %lval_tmp36)
  %lval_tmp37 = load i32, i32* @N, align 4
  call void @"print_$1"([3 x [3 x i32]]* @C, i32 %lval_tmp37)
  ret i32 0

cond21:                                           ; preds = %body22, %body16
  %lval_tmp24 = load i32, i32* @j, align 4
  %lval_tmp25 = load i32, i32* @N, align 4
  %lesstmp26 = icmp slt i32 %lval_tmp24, %lval_tmp25
  br i1 %lesstmp26, label %body22, label %after23

body22:                                           ; preds = %cond21
  %1 = call i32 @readInteger()
  store i32 %1, i32* @element, align 4
  %lval_tmp27 = load i32, i32* @i, align 4
  %pointer28 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* @B, i32 0, i32 %lval_tmp27
  %lval_tmp29 = load i32, i32* @j, align 4
  %pointer30 = getelementptr [3 x i32], [3 x i32]* %pointer28, i32 0, i32 %lval_tmp29
  %lval_tmp31 = load i32, i32* @element, align 4
  store i32 %lval_tmp31, i32* %pointer30, align 4
  %lval_tmp32 = load i32, i32* @j, align 4
  %addtmp33 = add i32 %lval_tmp32, 1
  store i32 %addtmp33, i32* @j, align 4
  br label %cond21

after23:                                          ; preds = %cond21
  %lval_tmp34 = load i32, i32* @i, align 4
  %addtmp35 = add i32 %lval_tmp34, 1
  store i32 %addtmp35, i32* @i, align 4
  br label %cond15
}

declare void @writeString(i8*)

declare i32 @readInteger()

declare void @writeInteger(i32)

define void @"print_$1"([3 x [3 x i32]]* %0, i32 %1) {
entry:
  %i = alloca i32, align 4
  %j = alloca i32, align 4
  %A = alloca [3 x [3 x i32]]*, align 8
  store [3 x [3 x i32]]* %0, [3 x [3 x i32]]** %A, align 8
  %N = alloca i32, align 4
  store i32 %1, i32* %N, align 4
  store i32 0, i32* %i, align 4
  br label %cond

cond:                                             ; preds = %after4, %entry
  %lval_tmp = load i32, i32* %i, align 4
  %lval_tmp1 = load i32, i32* %N, align 4
  %subtmp = sub i32 %lval_tmp1, 1
  %lesstmp = icmp slt i32 %lval_tmp, %subtmp
  br i1 %lesstmp, label %body, label %after

body:                                             ; preds = %cond
  store i32 0, i32* %j, align 4
  br label %cond2

after:                                            ; preds = %cond
  %lval_tmp26 = load i32, i32* %N, align 4
  %subtmp27 = sub i32 %lval_tmp26, 1
  store i32 %subtmp27, i32* %i, align 4
  store i32 0, i32* %j, align 4
  br label %cond28

cond2:                                            ; preds = %body3, %body
  %lval_tmp5 = load i32, i32* %j, align 4
  %lval_tmp6 = load i32, i32* %N, align 4
  %subtmp7 = sub i32 %lval_tmp6, 1
  %lesstmp8 = icmp slt i32 %lval_tmp5, %subtmp7
  br i1 %lesstmp8, label %body3, label %after4

body3:                                            ; preds = %cond2
  %lval_tmp9 = load i32, i32* %i, align 4
  %lval_tmp10 = load [3 x [3 x i32]]*, [3 x [3 x i32]]** %A, align 8
  %pointer = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %lval_tmp10, i32 0
  %pointer11 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %pointer, i32 0, i32 %lval_tmp9
  %lval_tmp12 = load i32, i32* %j, align 4
  %pointer13 = getelementptr [3 x i32], [3 x i32]* %pointer11, i32 0, i32 %lval_tmp12
  %lval_tmp14 = load i32, i32* %pointer13, align 4
  call void @writeInteger(i32 %lval_tmp14)
  call void @writeString(i8* getelementptr inbounds ([2 x i8], [2 x i8]* @" ", i32 0, i32 0))
  %lval_tmp15 = load i32, i32* %j, align 4
  %addtmp = add i32 %lval_tmp15, 1
  store i32 %addtmp, i32* %j, align 4
  br label %cond2

after4:                                           ; preds = %cond2
  %lval_tmp16 = load i32, i32* %i, align 4
  %lval_tmp17 = load [3 x [3 x i32]]*, [3 x [3 x i32]]** %A, align 8
  %pointer18 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %lval_tmp17, i32 0
  %pointer19 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %pointer18, i32 0, i32 %lval_tmp16
  %lval_tmp20 = load i32, i32* %N, align 4
  %subtmp21 = sub i32 %lval_tmp20, 1
  %pointer22 = getelementptr [3 x i32], [3 x i32]* %pointer19, i32 0, i32 %subtmp21
  %lval_tmp23 = load i32, i32* %pointer22, align 4
  call void @writeInteger(i32 %lval_tmp23)
  call void @writeString(i8* getelementptr inbounds ([2 x i8], [2 x i8]* @"\0A", i32 0, i32 0))
  %lval_tmp24 = load i32, i32* %i, align 4
  %addtmp25 = add i32 %lval_tmp24, 1
  store i32 %addtmp25, i32* %i, align 4
  br label %cond

cond28:                                           ; preds = %body29, %after
  %lval_tmp31 = load i32, i32* %j, align 4
  %lval_tmp32 = load i32, i32* %N, align 4
  %subtmp33 = sub i32 %lval_tmp32, 1
  %lesstmp34 = icmp slt i32 %lval_tmp31, %subtmp33
  br i1 %lesstmp34, label %body29, label %after30

body29:                                           ; preds = %cond28
  %lval_tmp35 = load i32, i32* %i, align 4
  %lval_tmp36 = load [3 x [3 x i32]]*, [3 x [3 x i32]]** %A, align 8
  %pointer37 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %lval_tmp36, i32 0
  %pointer38 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %pointer37, i32 0, i32 %lval_tmp35
  %lval_tmp39 = load i32, i32* %j, align 4
  %pointer40 = getelementptr [3 x i32], [3 x i32]* %pointer38, i32 0, i32 %lval_tmp39
  %lval_tmp41 = load i32, i32* %pointer40, align 4
  call void @writeInteger(i32 %lval_tmp41)
  call void @writeString(i8* getelementptr inbounds ([2 x i8], [2 x i8]* @" ", i32 0, i32 0))
  %lval_tmp42 = load i32, i32* %j, align 4
  %addtmp43 = add i32 %lval_tmp42, 1
  store i32 %addtmp43, i32* %j, align 4
  br label %cond28

after30:                                          ; preds = %cond28
  %lval_tmp44 = load i32, i32* %i, align 4
  %lval_tmp45 = load [3 x [3 x i32]]*, [3 x [3 x i32]]** %A, align 8
  %pointer46 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %lval_tmp45, i32 0
  %pointer47 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %pointer46, i32 0, i32 %lval_tmp44
  %lval_tmp48 = load i32, i32* %N, align 4
  %subtmp49 = sub i32 %lval_tmp48, 1
  %pointer50 = getelementptr [3 x i32], [3 x i32]* %pointer47, i32 0, i32 %subtmp49
  %lval_tmp51 = load i32, i32* %pointer50, align 4
  call void @writeInteger(i32 %lval_tmp51)
  call void @writeString(i8* getelementptr inbounds ([2 x i8], [2 x i8]* @"\0A", i32 0, i32 0))
  ret void
}

define void @"matmult_$2"([3 x [3 x i32]]* %0, [3 x [3 x i32]]* %1, [3 x [3 x i32]]* %2, i32 %3) {
entry:
  %i = alloca i32, align 4
  %j = alloca i32, align 4
  %k = alloca i32, align 4
  %sum = alloca i32, align 4
  %A = alloca [3 x [3 x i32]]*, align 8
  store [3 x [3 x i32]]* %0, [3 x [3 x i32]]** %A, align 8
  %B = alloca [3 x [3 x i32]]*, align 8
  store [3 x [3 x i32]]* %1, [3 x [3 x i32]]** %B, align 8
  %C = alloca [3 x [3 x i32]]*, align 8
  store [3 x [3 x i32]]* %2, [3 x [3 x i32]]** %C, align 8
  %N = alloca i32, align 4
  store i32 %3, i32* %N, align 4
  store i32 0, i32* %i, align 4
  br label %cond

cond:                                             ; preds = %after4, %entry
  %lval_tmp = load i32, i32* %i, align 4
  %lval_tmp1 = load i32, i32* %N, align 4
  %lesstmp = icmp slt i32 %lval_tmp, %lval_tmp1
  br i1 %lesstmp, label %body, label %after

body:                                             ; preds = %cond
  store i32 0, i32* %j, align 4
  br label %cond2

after:                                            ; preds = %cond
  ret void

cond2:                                            ; preds = %after10, %body
  %lval_tmp5 = load i32, i32* %j, align 4
  %lval_tmp6 = load i32, i32* %N, align 4
  %lesstmp7 = icmp slt i32 %lval_tmp5, %lval_tmp6
  br i1 %lesstmp7, label %body3, label %after4

body3:                                            ; preds = %cond2
  store i32 0, i32* %k, align 4
  store i32 0, i32* %sum, align 4
  br label %cond8

after4:                                           ; preds = %cond2
  %lval_tmp39 = load i32, i32* %i, align 4
  %addtmp40 = add i32 %lval_tmp39, 1
  store i32 %addtmp40, i32* %i, align 4
  br label %cond

cond8:                                            ; preds = %body9, %body3
  %lval_tmp11 = load i32, i32* %k, align 4
  %lval_tmp12 = load i32, i32* %N, align 4
  %lesstmp13 = icmp slt i32 %lval_tmp11, %lval_tmp12
  br i1 %lesstmp13, label %body9, label %after10

body9:                                            ; preds = %cond8
  %lval_tmp14 = load i32, i32* %sum, align 4
  %lval_tmp15 = load i32, i32* %i, align 4
  %lval_tmp16 = load [3 x [3 x i32]]*, [3 x [3 x i32]]** %A, align 8
  %pointer = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %lval_tmp16, i32 0
  %pointer17 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %pointer, i32 0, i32 %lval_tmp15
  %lval_tmp18 = load i32, i32* %k, align 4
  %pointer19 = getelementptr [3 x i32], [3 x i32]* %pointer17, i32 0, i32 %lval_tmp18
  %lval_tmp20 = load i32, i32* %pointer19, align 4
  %lval_tmp21 = load i32, i32* %k, align 4
  %lval_tmp22 = load [3 x [3 x i32]]*, [3 x [3 x i32]]** %B, align 8
  %pointer23 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %lval_tmp22, i32 0
  %pointer24 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %pointer23, i32 0, i32 %lval_tmp21
  %lval_tmp25 = load i32, i32* %j, align 4
  %pointer26 = getelementptr [3 x i32], [3 x i32]* %pointer24, i32 0, i32 %lval_tmp25
  %lval_tmp27 = load i32, i32* %pointer26, align 4
  %multmp = mul i32 %lval_tmp20, %lval_tmp27
  %addtmp = add i32 %lval_tmp14, %multmp
  store i32 %addtmp, i32* %sum, align 4
  %lval_tmp28 = load i32, i32* %k, align 4
  %addtmp29 = add i32 %lval_tmp28, 1
  store i32 %addtmp29, i32* %k, align 4
  br label %cond8

after10:                                          ; preds = %cond8
  %lval_tmp30 = load i32, i32* %i, align 4
  %lval_tmp31 = load [3 x [3 x i32]]*, [3 x [3 x i32]]** %C, align 8
  %pointer32 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %lval_tmp31, i32 0
  %pointer33 = getelementptr [3 x [3 x i32]], [3 x [3 x i32]]* %pointer32, i32 0, i32 %lval_tmp30
  %lval_tmp34 = load i32, i32* %j, align 4
  %pointer35 = getelementptr [3 x i32], [3 x i32]* %pointer33, i32 0, i32 %lval_tmp34
  %lval_tmp36 = load i32, i32* %sum, align 4
  store i32 %lval_tmp36, i32* %pointer35, align 4
  %lval_tmp37 = load i32, i32* %j, align 4
  %addtmp38 = add i32 %lval_tmp37, 1
  store i32 %addtmp38, i32* %j, align 4
  br label %cond2
}
